# 在庫・メニューテーブルのチェックボックス廃止実装計画（2025-10-12）

## ゴール
- 在庫管理・メニュー管理テーブルから不要なチェックボックス列を排除し、行タップによるモーダル表示のみを提供する。

## スコープ
- 共通コンポーネント `YataDataTable`（`lib/shared/components/data_display/data_table.dart`）の挙動更新。
- 在庫／メニュー画面のテーブル呼び出し。その他の `YataDataTable` 利用箇所に影響がないか確認。

## 対応方針
1. `YataDataTable` に `showCheckboxColumn`（既定 `false`）のオプションを追加し、`DataTable` 生成時に渡す。
2. 既存コードでチェックボックスが必要な場所は存在しないため、既定値で非表示化。将来的な需要に備え、必要なら呼び出し側が `true` を指定できるようにする。
3. 行タップの挙動・ビジー制御は既存実装を流用し、追加調整は行わない。

## タスク
- 実装
  - `YataDataTable` に新規プロパティとコンストラクタ引数を追加し、`DataTable(showCheckboxColumn: showCheckboxColumn)` を設定。
  - `_buildRows` / `_buildRowsFromSpecs` がタップハンドラを保持することを確認し、単体テストが壊れていないかを調整。
- 検証
  - `flutter test` または `dart test` を実行し、既存テストの回帰を確認。
  - メニュー管理・在庫管理画面を実機/エミュレータで開き、行タップでモーダルが開くこと、チェックボックスが表示されないことを目視確認。
- ドキュメント・周知
  - デザイン/UX チームに変更内容を共有し、フォーカススタイル等の追加要望がないかを確認。

## リスクと緩和策
- **アクセシビリティ**: チェックボックス廃止によりキーボードフォーカスの視認性が低下する恐れがある。必要なら `DataTable` テーマにフォーカス時の背景色を追加する改修を後追いで検討。
- **将来の要件変更**: 一括選択などチェックボックスが再度必要になる可能性がある。`showCheckboxColumn` オプションを用意しておくことで再導入を容易にする。

## 判定基準
- テーブルにチェックボックス列が表示されない。
- 行タップで既存どおり詳細モーダルが表示される。
- 自動テストが全て成功し、UI リグレッションが確認されない。
