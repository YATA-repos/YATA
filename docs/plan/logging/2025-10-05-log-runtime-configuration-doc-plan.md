# ログランタイム設定ドキュメント整備計画 (2025-10-05)

## 背景
- `.env` による `LOG_*` 設定が存在するが、推奨値や運用ガイドが不足しており、現場での調整が難しい。
- ランタイム設定適用の実装は存在するものの、利用者（運用/サポート）が参照できるドキュメントが未整備。

## 目的
- ログ関連ランタイム設定の解説・推奨値・トラブルシューティングをまとめたガイドを `docs/guide/` に提供する。
- `.env.example` など開発者が参照するファイルにも反映し、環境構築時から設定が適切に行える状態にする。

## ゴール
- `docs/guide/logging-runtime-config.md`（仮称）が追加され、主要設定項目と推奨値が明記されている。
- `.env.example` にログ設定のコメントと推奨値が追記されている。
- ランタイム適用の検証手順（チェックリスト）が提供されている。

## スコープ外
- ランタイム設定機能自体の大幅改修（別計画で実施）。
- 本番運用での監視ツール連携手順（参照リンクで対応）。

## 対応方針
1. **情報整理**
   - 現行コード（`log_runtime_config.dart`）とレポートの Findings から設定可能項目を棚卸し。
   - 各環境（開発/ステージング/本番）の推奨パラメータを運用チームと調整。
2. **ガイド作成**
   - 設定項目ごとの説明、推奨値表、よくあるトラブルと対処を記載。
   - 設定変更手順と再起動/ホットリロード時の挙動を整理。
3. **サンプル更新**
   - `.env.example` にコメントとデフォルト値を追加。
   - `README` またはセットアップガイドから新ドキュメントを参照できるようリンクを設置。

## 作業手順
1. 設定項目一覧と推奨値のドラフトを作成し、運用チームと合意。
2. `docs/guide/` にガイド文書を追加し、実装済みのコマンド例・検証手順を記載。
3. `.env.example` と `docs/standards/environment.md`（存在する場合）を更新。
4. PR テンプレートやレビューガイドに当該ガイドの参照を追加（任意）。

## 検証計画
- 開発環境で `.env` を書き換え、`applyLogRuntimeConfig` が想定通り動作することを確認。
- ガイドの「検証手順」をメンバーに試してもらい、不明点がないかフィードバックを得る。

## リスク / 留意事項
- 推奨値が環境に依存するため、環境ごとの差異を明確に記述する必要がある。
- `.env` 更新は `flutter run` 再起動が必要な場合があり、手順を誤ると混乱する可能性がある。
- ドキュメントの更新がコード改修に追随しないリスク → メンテナンス責任者を明記。

## 成功指標
- ガイド公開後に運用側からの設定に関する質問が減少する。
- 新規メンバーがガイドを参照してログ設定を変更できたとのフィードバック。
- `.env` のログ設定を変更した際に問題が再現した場合でも、ガイドのトラブルシューティングで解決できる。
