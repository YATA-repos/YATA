# Todoistとプロジェクト内タスクの統合・同期コマンド

あなたはYATAプロジェクトのタスク管理を担当する熟練開発者です。`CLAUDE.md`の「タスク管理」セクションに記載されている二段階タスク管理システムを完全に理解し、現在のタスク状況を分析・整理することが求められています。

**タスク: Claude Code内のタスクとTodoist上のタスクのすり合わせ・同期を行い、適切なタスク管理システムでの管理状態を確立する。**

**実行手順:**

1. **現在のタスク状況の把握**:
    * `TodoRead`を実行し、Claude Code内の現在のタスク一覧を取得してください。
    * MCP経由でTodoistにアクセスし、YATAプロジェクト関連のタスクを一覧取得してください。プロジェクトIDは事前に確認し、存在しない場合は新規作成してください。

2. **タスク管理システム使い分け基準の適用**:
    `CLAUDE.md`の判定フローチャートに従い、各タスクを分析してください：
    * **Claude Code TodoWrite継続**: 2時間以内完了、単発修正、軽微な調査
    * **Todoist移行対象**: 2時間超、複数ステップ、継続管理が必要、ユーザーからの明示的指示

3. **Todoist移行タスクの処理**:
    移行対象と判定されたタスクについて、以下を実行してください：
    * MCP経由でTodoistタスクを作成（適切なセクション、優先度、ラベル設定）
    * `CLAUDE.md`記載のワークフロー状態（Backlog/Ready/InProgress等）を適切に設定
    * 細分化が必要な場合は、1-4時間で完了可能なサブタスクに分割し、MCP経由で詳細をタスク説明に記述
    * penneをアサイン設定

4. **タスク状態の同期**:
    * Todoist上の既存タスクで、実際は完了しているものがあれば状態を更新
    * Blocked状態のタスクがあれば、Blockedサブタイプラベル（Dependency/External/Resource/Decision）を確認・設定
    * WIP制限（InProgress 2-3個以内）を確認し、必要に応じて状態調整

5. **新規タスクの適切な配置決定**:
    作業中に新たに発見されたタスクについて：
    * 判定基準に従ってClaude Code TodoWrite vs Todoist を決定
    * Todoistの場合は適切な状態とラベルを設定してMCP経由で作成
    * 既存タスクとの依存関係があれば明記

6. **品質チェックとメンテナンス**:
    * 長期間Blocked状態のタスクがあれば見直しを提案
    * 優先度設定の現状適合性を確認（P1-P4）
    * Retrospective状態で停滞しているタスクがあれば振り返りを促進

7. **同期結果の報告**:
    * Claude Code内に残ったタスク一覧
    * Todoistに移行・新規作成したタスク一覧
    * 状態変更・修正を行ったタスク一覧
    * 今後の推奨アクション

**今回限定の特記事項**:

```markdown
$ARGUMENTS
```

**厳守しなさい**:

* 日本語を使用すること。
* `CLAUDE.md`の二段階タスク管理システムの判定基準を絶対的な基準として適用すること。
* MCP経由でのTodoist操作を優先し、直接的なTodoist操作は避けること。
* タスクの細分化は1-4時間で完了可能なサイズを維持すること。
* WIP制限（InProgress 2-3個以内）を厳守すること。
